<!-- Cabecera con franja de acento y badges de confianza -->
<section class="card" style="max-width:920px; margin-bottom:1rem; padding:0;">
  <div style="height:6px; background:var(--accent); border-radius:12px 12px 0 0;"></div>
  <div style="padding:1rem 1.25rem;">
    <h2 style="margin:0 0 .25rem 0;">Agenda tu valoración gratuita</h2>
    <p style="color:var(--muted); margin:0;">
      Cuéntanos sobre tu perro y lo que te gustaría mejorar (obediencia básica/avanzada, socialización, conducta, etc.).
      Respondemos el mismo día.
    </p>
    <div style="display:flex; gap:.5rem; flex-wrap:wrap; margin-top:.75rem;">
      <span class="badge">🐾 Todas las razas</span>
      <span class="badge">✅ Metodología positiva</span>
      <span class="badge">🎯 Resultados medibles</span>
      <span class="badge">📍 GAM</span>
    </div>
  </div>
</section>

<!-- Tarjeta principal del formulario en layout 2 columnas -->
<form (ngSubmit)="submit()" [formGroup]="form" class="card" style="max-width:920px; padding:1.25rem;">
  <div class="form-grid" style="display:grid; grid-template-columns: 1fr 1fr; gap:1rem;">
    <!-- Columna izquierda: campos -->
    <div style="display:grid; gap:.9rem;">
      <div>
        <label for="name">Tu nombre *</label>
        <input id="name" formControlName="name" placeholder="Carlos Cubero" />
        <small class="error" *ngIf="form.controls.name.touched && form.controls.name.invalid">Ingresa un nombre válido.</small>
      </div>

      <div>
        <label for="email">Correo *</label>
        <input id="email" type="email" formControlName="email" placeholder="tucorreo&#64;ejemplo.com" />
        <small class="error" *ngIf="form.controls.email.touched && form.controls.email.invalid">Ingresa un correo válido.</small>
      </div>

      <div>
        <!-- Reutilizamos el control 'company' pero lo presentamos como 'Raza' para no tocar la estructura -->
        <label for="company">Raza (o “Mestizo”)</label>
        <input id="company" formControlName="company" placeholder="Labrador, Poodle, Mestizo..." />
      </div>

      <div>
        <label for="message">Mensaje *</label>
        <textarea id="message" rows="6" formControlName="message" placeholder="Edad, comportamiento actual y objetivos (p. ej., no jalonear, venir al llamado, socializar)"></textarea>
        <small class="error" *ngIf="form.controls.message.touched && form.controls.message.invalid">Cuéntanos un poco más para ayudarte mejor.</small>
      </div>
    </div>

    <!-- Columna derecha: tips y aviso (no cambia estructura del form) -->
    <aside class="card" style="align-self:start; border:1px dashed var(--border); padding:1rem; background:var(--surface);">
      <h3 style="margin:.25rem 0 .5rem 0; font-size:1rem;">Tips para una respuesta rápida</h3>
      <ul style="margin:0; padding-left:1.1rem; color:var(--muted); line-height:1.5;">
        <li>Indica la <strong>edad</strong> y <strong>raza</strong> (o “Mestizo”).</li>
        <li>Menciona 2–3 <strong>conductas</strong> a mejorar.</li>
        <li>Zona de atención dentro de la <strong>GAM</strong>.</li>
      </ul>
      <div class="notice" style="margin-top:.9rem;">
        Valoración gratis en la Gran Área Metropolitana (GAM).
      </div>
    </aside>
  </div>

  <!-- honeypot -->
  <input type="text" formControlName="website" autocomplete="off" tabindex="-1" style="position:absolute; left:-9999px; opacity:0; height:0;" />

  <!-- Acciones -->
  <div style="display:flex; gap:.75rem; align-items:center; margin-top:1rem;">
    <button class="btn" [disabled]="sending" type="submit">{{ sending ? 'Enviando...' : 'Enviar' }}</button>
    <span *ngIf="done" style="color:var(--ok);">¡Gracias! Te contactaremos muy pronto.</span>
    <span *ngIf="errorMsg" style="color:var(--error);">{{ errorMsg }}</span>
  </div>

  <p style="margin-top:.75rem; color:var(--muted); font-size:.9rem;">
    Fuera de la GAM, consultar costo de desplazamiento.
  </p>
</form>
